{"version":3,"sources":["webpack:///./examples/dynamic.js"],"names":["generateTreeNodes","treeNode","arr","key","props","eventKey","i","push","name","setLeaf","treeData","curKey","level","loopLeaf","data","lev","l","forEach","item","length","indexOf","children","isLeaf","getNewTreeData","child","loop","Demo","createClass","propTypes","getInitialState","checkedKeys","componentDidMount","setTimeout","setState","onSelect","info","console","log","onCheck","onLoadData","Promise","resolve","state","render","map","treeNodes","document","getElementById"],"mappings":"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","file":"dynamic.js","sourcesContent":["import 'rc-tree/assets/index.less';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport Tree, { TreeNode } from 'rc-tree';\n\nfunction generateTreeNodes(treeNode) {\n  const arr = [];\n  const key = treeNode.props.eventKey;\n  for (let i = 0; i < 3; i++) {\n    arr.push({ name: `leaf ${key}-${i}`, key: `${key}-${i}` });\n  }\n  return arr;\n}\n\nfunction setLeaf(treeData, curKey, level) {\n  const loopLeaf = (data, lev) => {\n    const l = lev - 1;\n    data.forEach((item) => {\n      if ((item.key.length > curKey.length) ? item.key.indexOf(curKey) !== 0 :\n        curKey.indexOf(item.key) !== 0) {\n        return;\n      }\n      if (item.children) {\n        loopLeaf(item.children, l);\n      } else if (l < 1) {\n        item.isLeaf = true;\n      }\n    });\n  };\n  loopLeaf(treeData, level + 1);\n}\n\nfunction getNewTreeData(treeData, curKey, child, level) {\n  const loop = (data) => {\n    if (level < 1 || curKey.length - 3 > level * 2) return;\n    data.forEach((item) => {\n      if (curKey.indexOf(item.key) === 0) {\n        if (item.children) {\n          loop(item.children);\n        } else {\n          item.children = child;\n        }\n      }\n    });\n  };\n  loop(treeData);\n  setLeaf(treeData, curKey, level);\n}\n\nconst Demo = React.createClass({\n  propTypes: {},\n  getInitialState() {\n    return {\n      treeData: [],\n      checkedKeys: [],\n    };\n  },\n  componentDidMount() {\n    setTimeout(() => {\n      this.setState({\n        treeData: [\n          { name: 'pNode 01', key: '0-0' },\n          { name: 'pNode 02', key: '0-1' },\n          { name: 'pNode 03', key: '0-2', isLeaf: true },\n        ],\n        checkedKeys: ['0-0'],\n      });\n    }, 100);\n  },\n  onSelect(info) {\n    console.log('selected', info);\n  },\n  onCheck(checkedKeys) {\n    console.log(checkedKeys);\n    this.setState({\n      checkedKeys,\n    });\n  },\n  onLoadData(treeNode) {\n    return new Promise((resolve) => {\n      setTimeout(() => {\n        const treeData = [...this.state.treeData];\n        getNewTreeData(treeData, treeNode.props.eventKey, generateTreeNodes(treeNode), 2);\n        this.setState({ treeData });\n        resolve();\n      }, 500);\n    });\n  },\n  render() {\n    const loop = (data) => {\n      return data.map((item) => {\n        if (item.children) {\n          return <TreeNode title={item.name} key={item.key}>{loop(item.children)}</TreeNode>;\n        }\n        return (\n          <TreeNode title={item.name} key={item.key} isLeaf={item.isLeaf}\n            disabled={item.key === '0-0-0'}\n          />\n        );\n      });\n    };\n    const treeNodes = loop(this.state.treeData);\n    return (\n      <div>\n        <h2>dynamic render</h2>\n        <Tree\n          onSelect={this.onSelect}\n          checkable onCheck={this.onCheck} checkedKeys={this.state.checkedKeys}\n          loadData={this.onLoadData}\n        >\n          {treeNodes}\n        </Tree>\n      </div>\n    );\n  },\n});\n\nReactDOM.render(<Demo />, document.getElementById('__react-content'));\n\n\n\n// WEBPACK FOOTER //\n// ./examples/dynamic.js"],"sourceRoot":""}